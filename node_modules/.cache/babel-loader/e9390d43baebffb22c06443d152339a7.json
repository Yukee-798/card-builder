{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst codegen_1 = require(\"../../compile/codegen\");\n\nconst util_1 = require(\"../../compile/util\");\n\nconst equal_1 = require(\"../../runtime/equal\");\n\nconst error = {\n  message: \"must be equal to constant\",\n  params: ({\n    schemaCode\n  }) => codegen_1._`{allowedValue: ${schemaCode}}`\n};\nconst def = {\n  keyword: \"const\",\n  $data: true,\n  error,\n\n  code(cxt) {\n    const {\n      gen,\n      data,\n      schemaCode\n    } = cxt; // TODO optimize for scalar values in schema\n\n    cxt.fail$data(codegen_1._`!${util_1.useFunc(gen, equal_1.default)}(${data}, ${schemaCode})`);\n  }\n\n};\nexports.default = def;","map":null,"metadata":{},"sourceType":"script"}